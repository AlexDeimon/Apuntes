<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File System</title>
    <link rel="stylesheet" href="../styles/normalize.css">
    <link rel="stylesheet" href="../styles/index.css">
    <link rel="stylesheet" href="../styles/node.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="../assets/favicon/site.webmanifest">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Exo+2&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <a href="../index.html"><h1 class="titulo1">Mis apuntes de <span class="resaltado">desarrollo web &lt;/&gt;</span></h1></a>
    </header>
    <main>
        <section>
            <h2 class="titulo2">File System</h2>
            <p>Node js cuenta con un módulo centralizado, llamado File System (fs), diseñado específicamente para la manipulación de archivos.</p>
            <p>Este módulo permite realizar operaciones como leer, escribir, actualizar y eliminar archivos.</p>
            <article>
                <h3 class="titulo3">Operaciones con File System</h3>
                <h4 class="titulo4">Opeaciones Síncronas</h4>
                <dl class="lista">
                    <dt>fs.readFileSync():</dt>
                    <dd>Lectura del contenido de archivos.</dd>
                    <dt>fs.writeFileSync():</dt>
                    <dd>Escritura de contenido de archivos.</dd>
                    <dt>fs.appendFileSync():</dt>
                    <dd>Añadir datos al final de un archivo.</dd>
                    <dt>fs.unlinkSync():</dt>
                    <dd>Eliminar un archivo.</dd>
                </dl>
                <h4 class="ejemplo">Ejemplo:</h4>
                <img src="../assets/images/File_system.webp" alt="ejemplo File System" class="img"><br>
                <img src="../assets/images/File_system2.webp" alt="ejemplo File System" class="img">
                <h4 class="titulo4">Opeaciones Asíncronas</h4>
                <dl class="lista">
                    <dt>fs.readFile():</dt>
                    <dd>Lectura del contenido de archivos.</dd>
                    <dt>fs.writeFile():</dt>
                    <dd>Escritura de contenido de archivos.</dd>
                    <dt>fs.appendFile():</dt>
                    <dd>Añadir datos al final de un archivo.</dd>
                    <dt>fs.unlink():</dt>
                    <dd>Eliminar un archivo.</dd>
                </dl>
                <p>La principal diferencia con las operaciones síncronas es que las asíncronas se manejan mediante <a href="../JavaScript/Callbacks.html" class="link">Callbacks</a>, <a href="../JavaScript/Promesas.html" class="link">Promesas</a> o <a href="../JavaScript/Async-Await.html" class="link">Async/await</a>.</p>
                <h4 class="ejemplo">Ejemplo con Async/await:</h4>
                <img src="../assets/images/File_system3.webp" alt="ejemplo File System con Async/await" class="img">
                <P class="resaltado">Se recomienda usar Promesas o Async/await y evitar el uso de Callbacks debido a que puede generarse un callback hell.</P>
            </article>
            <article>
                <h3 class="titulo3">Lectura de directorios</h3>
                <p>El método readdir() es parte del módulo fs y se utiliza para leer el contenido de un directorio. Cuando se usa readdir(), se obtiene una lista de los nombres de los archivos y subdirectorios que se encuentran dentro de un directorio específico. Tambien tiene una versión síncrona (fs.readdirSync) y una versión asíncrona (fs.readdir).</p>
                <p>El primer argumento es el directorio el cual se va a leer. Tambien tiene un argumento opcional que especifica opciones adicionales, como la codificación de los nombres de los archivos o si se quiere obtener objetos fs.Dirent que contienen metadatos adicionales sobre los archivos.</p>
                <dl class="lista">
                    <dt>withFileTypes: true:</dt>
                    <dd>Si se especifica esta opción, los elementos en el array de archivos serán objetos fs.Dirent en lugar de solo los nombres de los archivos, lo que permite distinguir fácilmente entre archivos y directorios usando métodos como isDirectory() y isFile().</dd>
                </dl>
                <h4 class="ejemplo">Ejemplo:</h4>
                <div class="main-section2">
                    <img src="../assets/images/Readdir.webp" alt="ejemplo readdir" class="img">
                    <img src="../assets/images/Readdir2.webp" alt="ejemplo readdir" class="img">
                </div>
            </article>
            <article>
                <h3 class="titulo3">Obtener información de archivos</h3>
                <p>El método stat() se utiliza para obtener información sobre un archivo o un directorio. Esta información se presenta en un objeto de tipo fs.Stats, que contiene varios detalles sobre el archivo o directorio, como su tamaño, permisos, fecha de creación, y si es un archivo regular o un directorio.</p>
                <p>Existen varias versiones de este método:</p>
                <dl class="lista">
                    <dt>Síncrona (fs.statSync):</dt>
                    <dd>Bloquea la ejecución hasta que la operación se completa.</dd>
                    <dt>Asíncrona (fs.stat):</dt>
                    <dd>Utiliza un callback para manejar la respuesta</dd>
                    <dt>Versión Promisificada (fs.promises.stat):</dt>
                    <dd>Devuelve una promesa, permitiendo usar async/await.</dd>
                </dl>
                <h4 class="titulo4">Propiedades</h4>
                <dl class="lista">
                    <dt>stats.isFile():</dt>
                    <dd>Devuelve true si la ruta es un archivo.</dd>
                    <dt>stats.isDirectory()</dt>
                    <dd>Devuelve true si la ruta es un directorio.</dd>
                    <dt>stats.size:</dt>
                    <dd>Tamaño del archivo en bytes.</dd>
                    <dt>stats.birthtime:</dt>
                    <dd>Fecha de creación del archivo.</dd>
                    <dt>stats.mtime:</dt>
                    <dd>Fecha de la última modificación del archivo.</dd>
                    <dt>stats.atime:</dt>
                    <dd>Fecha de la última vez que el archivo fue accedido.</dd>
                    <dt>stats.ctime:</dt>
                    <dd>Fecha del último cambio en los metadatos del archivo.</dd>
                </dl>
                <h4 class="ejemplo">Ejemplo:</h4>
                <img src="../assets/images/stat.webp" alt="ejemplo stat" class="img">
                <img src="../assets/images/stat2.webp" alt="ejemplo stat" class="img">
            </article>
        </section>
    </main>
</body>
</html>